<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks - NotionX</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Google Fonts (Poppins) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Your Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/tasks.css"> <!-- Tasks specific styles -->
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#38bdf8">
</head>

<body>
    <header id="navbar-container"></header>

    <main class="container py-5 fade-in">
        <!-- Page Header -->
        <section class="d-flex justify-content-between align-items-center mb-5">
            <div>
                <h1 class="display-5 fw-bold text-white">My Tasks</h1>
                <p class="text-secondary fs-5 text-white">Complete tasks to gain XP and build habits.</p>
            </div>
        </section>

        <!-- Add Task Form -->
        <section class="mb-4">
            <div class="card nx-glass p-3 text-white">
                <form id="add-task-form" class="d-flex">
                    <input type="text" id="task-input" class="form-control me-2 text-white"
                        placeholder="Add a new task..." required autocomplete="off">
                    <button type="submit" class="btn btn-primary text-white" style="min-width: 100px;">
                        <i class="bi bi-plus-lg"></i> Add
                    </button>
                </form>
            </div>
        </section>

        <!-- Task List -->
        <section>
            <div class="card nx-glass p-3">
                <div class="card-body">
                    <h5 class="card-title mb-3 text-white">Today's Progress</h5>
                    <div class="progress mb-4" style="height: 10px;">
                        <div id="tasks-progress-bar" class="progress-bar bg-primary" role="progressbar"
                            style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <ul id="task-list" class="list-group list-group-flush">
                        <!-- Tasks will be dynamically inserted here by tasks.js -->
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <!-- Toast Notification for XP Gain -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="xp-toast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto text-primary"><i class="bi bi-star-fill"></i> XP Gained!</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toast-message">
                Task completed! +10 XP
            </div>
        </div>
    </div>


    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- Your Custom JS -->
    <script src="../js/main.js"></script>
    <script src="../js/tasks.js"></script>
</body>

</html>