<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Journal - NotionX</title>

    <!-- Bootstrap 5 CSS & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Google Fonts (Poppins) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Your Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/journal.css">
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#38bdf8">
</head>

<body>
    <!-- Shared Navigation Bar -->
    <header id="navbar-container"></header>

    <main class="container py-5 fade-in">
        <!-- Page Header -->
        <section class="text-center mb-5">
            <h1 class="display-5 fw-bold text-white">Daily Journal</h1>
            <p class="text-secondary fs-5 text-white">Reflect, analyze, and grow.</p>
        </section>

        <div class="row g-5">
            <!-- Left Column: Editor and Prompts -->
            <div class="col-lg-7">
                <!-- New Entry Form -->
                <div class="card nx-glass p-4 mb-4">
                    <form id="journal-form">
                        <h5 class="fw-bold mb-3 text-white" id="form-title">Today's Entry</h5>
                        <textarea id="journal-entry-text" class="form-control mb-3" rows="10"
                            placeholder="How was your day? (Markdown is supported)"></textarea>

                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <label for="journal-tags" class="form-label text-white mb-0 me-2">Tags:</label>
                            <input type="text" id="journal-tags" class="form-control"
                                placeholder="e.g., work, fitness, idea">
                        </div>
                        <div class="word-count text-secondary small mb-3 text-end">Word Count: 0</div>

                        <div class="d-flex justify-content-between align-items-center">
                            <div class="mood-selector">
                                <!-- Mood icons remain the same -->
                                <label><input type="radio" name="mood" value="happy" checked><i
                                        class="bi bi-emoji-smile-fill mood-icon mood-happy"></i></label>
                                <label><input type="radio" name="mood" value="neutral"><i
                                        class="bi bi-emoji-neutral-fill mood-icon mood-neutral"></i></label>
                                <label><input type="radio" name="mood" value="sad"><i
                                        class="bi bi-emoji-frown-fill mood-icon mood-sad"></i></label>
                                <label><input type="radio" name="mood" value="excited"><i
                                        class="bi bi-emoji-laughing-fill mood-icon mood-excited"></i></label>
                                <label><input type="radio" name="mood" value="tired"><i
                                        class="bi bi-emoji-dizzy-fill mood-icon mood-tired"></i></label>
                            </div>
                            <button type="submit" class="btn btn-primary px-4 py-2"><i
                                    class="bi bi-save-fill me-2"></i>Save Entry</button>
                        </div>
                    </form>
                </div>

                <!-- Journal Prompts -->
                <div class="card nx-glass p-4">
                    <h5 class="fw-bold mb-3 text-white">Journal Prompt</h5>
                    <p class="prompt-text text-secondary" id="prompt-text">What is one thing that would make today
                        great?</p>
                    <button id="new-prompt-btn" class="btn btn-sm btn-outline-secondary mt-2 align-self-start">Get New
                        Prompt</button>
                </div>
            </div>

            <!-- Right Column: Analytics and Past Entries -->
            <div class="col-lg-5">
                <!-- Analytics -->
                <div class="analytics-card card nx-glass p-4 mb-4">
                    <h5 class="fw-bold mb-3 text-white">Analytics</h5>
                    <div class="row text-center">
                        <div class="col-6">
                            <p class="text-secondary mb-2">Moods</p>
                            <canvas id="mood-chart" height="150"></canvas>
                        </div>
                        <div class="col-6">
                            <p class="text-secondary mb-2">Streak</p>
                            <div class="streak-display">
                                <i class="bi bi-fire text-warning"></i>
                                <span id="streak-count" class="streak-count">0</span>
                                <p class="streak-label">Days</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Past Entries -->
                <div class="card nx-glass p-4">
                    <h5 class="fw-bold mb-3 text-white">History</h5>
                    <input type="text" id="search-input" class="form-control mb-3"
                        placeholder="Search entries or #tags...">
                    <div class="accordion" id="past-entries-accordion">
                        <!-- Journal entries will be inserted here as accordion items -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- JS Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js for analytics -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <!-- Showdown for Markdown -->

    <!-- Your Custom JS -->
    <script src="../js/main.js"></script>
    <script src="../js/journal.js"></script>
</body>

</html>